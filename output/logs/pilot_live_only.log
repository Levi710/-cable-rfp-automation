date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 24.64 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-09T13:25:43.039883",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a50c6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x109e9fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10a520690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a521310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a5216d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-09T13:25:43.119377 sales_selected=14 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 21.97 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-09T14:26:18.431118",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6cc6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a603d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6e02d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6e0690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-09T14:26:18.499922 sales_selected=15 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
Error scraping https://www.powergrid.in/tenders: HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: /tenders (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x1091d5310>, 'Connection to www.powergrid.in timed out. (connect timeout=20)'))
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1091d5590>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1091d65d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 64.76 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-09T15:27:40.936663",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106fec6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10697fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x107000690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107001310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1070016d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-09T15:27:40.997899 sales_selected=16 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 23.78 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-09T16:28:12.779128",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a5ec6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a523d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6002d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a600690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-09T16:28:12.840023 sales_selected=17 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
Error scraping https://www.powergrid.in/tenders: HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: /tenders (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10b1e5310>, 'Connection to www.powergrid.in timed out. (connect timeout=20)'))
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b1e5590>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b1e65d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 95.97 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-09T17:30:03.086609",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10adfc6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ad33d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ae102d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ae10690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-09T17:30:03.164121 sales_selected=18 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b2b91d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b2b9310>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 64.14 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-09T18:31:21.915450",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106ec46e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106dfbd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106ed82d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106ed8690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-09T18:31:21.983377 sales_selected=19 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108dc11d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108dc1310>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 64.96 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-09T20:19:53.095563",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1085286e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10845fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10853c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10853c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-09T20:19:53.179330 sales_selected=20 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10673d310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10673d590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 54.76 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-09T21:20:55.694749",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1084846e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107e47d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1084982d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108498690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-09T21:20:55.780284 sales_selected=21 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106c99310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106c99590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 58.51 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-09T22:22:07.247680",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108d7c6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108cb3d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108d902d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108d90690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-09T22:22:07.322952 sales_selected=22 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10954e210>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10954e5d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 42.93 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-10T05:36:03.360802",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108f146e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108e4bd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108f282d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108f28690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-10T05:36:03.433860 sales_selected=23 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10aeed310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10aeee5d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 46.34 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-10T06:36:57.577768",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a506e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108987d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a642d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a64690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-10T06:36:57.652171 sales_selected=24 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1094f20d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1094f2210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 34.31 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-10T11:10:25.082934",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a686e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10899fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a7c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a7c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-10T11:10:25.143757 sales_selected=25 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108c860d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108c86210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 47.17 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-10T12:11:19.511538",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1065846e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1064bbd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1065982d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106598690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-10T12:11:19.568741 sales_selected=26 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10688e0d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10688e210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 53.83 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-10T13:12:21.566736",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a4f86e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a42fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a50c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a50c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-10T13:12:21.625699 sales_selected=27 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10879e0d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10879e210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 46.17 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-10T14:28:16.265082",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1065946e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1064cbd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1065a82d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1065a8690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-10T14:28:16.323926 sales_selected=28 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
Error scraping https://www.powergrid.in/tenders: HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: /tenders (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10aab5d10>, 'Connection to www.powergrid.in timed out. (connect timeout=20)'))
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10aab60d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10aab6710>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,435 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 64.79 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-10T15:55:46.764219",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106e186e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1067abd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106e2c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106e2c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-10T15:55:46.837966 sales_selected=29 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b351a90>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b352350>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 66.26 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-10T16:57:03.403962",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aa406e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a977d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aa542d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aa54690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-10T16:57:03.483816 sales_selected=30 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10a9020d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10a902210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 46.92 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-10T17:58:10.840009",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1072786e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106c3bd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10728c690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10728d310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10728d6d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-10T17:58:10.914477 sales_selected=31 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 29.23 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-10T18:58:51.532605",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b24c6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b183d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b2602d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b260690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-10T18:58:51.593109 sales_selected=32 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1086e60d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1086e6210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 52.88 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-10T20:00:01.959166",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aab86e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a9efd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10aacc690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aacd310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aacd6d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-10T20:00:02.034814 sales_selected=33 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,088 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 24.69 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-10T21:00:36.509029",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1073d86e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10730fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1073ec2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1073ec690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-10T21:00:36.582675 sales_selected=34 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
Error scraping https://www.powergrid.in/tenders: HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: /tenders (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10a84d090>, 'Connection to www.powergrid.in timed out. (connect timeout=20)'))
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10a84e0d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10a84e710>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,437 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 2722.86 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-10T22:59:58.810742",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1073a06e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1072d7d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1073b42d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1073b4690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-10T22:59:58.888127 sales_selected=35 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1073a1310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1073a25d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 54.82 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-11T06:32:03.053265",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1087586e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10868fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10876c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10876c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-11T06:32:03.129088 sales_selected=36 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10ad1a210>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10ad1a5d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 45.16 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-11T07:33:06.423917",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10901c6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108f53d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x109030690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x109031310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1090316d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-11T07:33:06.481245 sales_selected=37 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,088 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 23.44 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-11T08:33:48.083507",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1092c46e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108c87d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x1092d8690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1092d9310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1092d96d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-11T08:33:48.152510 sales_selected=38 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
maharashtra: DNS unresolved for www.mahadiscom.in
⚠️ maharashtra: No tenders found
uttar_pradesh: DNS unresolved for www.uppcl.org
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: DNS unresolved for www.bescom.org
⚠️ karnataka: No tenders found
delhi: DNS unresolved for www.delhi.gov.in
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,498 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 405.61 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-11T11:57:04.531364",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1073486e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10727fc50>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107360550>: Failed to resolve 'www.powergrid.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.ntpc.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107360910>: Failed to resolve 'www.ntpc.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107360cd0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107361090>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107361310>: Failed to resolve 'www.bescom.org' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='eprocure.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1073616d0>: Failed to resolve 'eprocure.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='eproc.rajasthan.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107361a90>: Failed to resolve 'eproc.rajasthan.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.up.nic.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.up.nic.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107361d10>: Failed to resolve 'etender.up.nic.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-11T11:57:04.579705 sales_selected=39 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
maharashtra: DNS unresolved for www.mahadiscom.in
⚠️ maharashtra: No tenders found
uttar_pradesh: DNS unresolved for www.uppcl.org
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: DNS unresolved for www.bescom.org
⚠️ karnataka: No tenders found
delhi: DNS unresolved for www.delhi.gov.in
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 42.15 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-11T14:10:29.317794",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1068146e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10674bc50>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10682c550>: Failed to resolve 'www.powergrid.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.ntpc.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10682c910>: Failed to resolve 'www.ntpc.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10682ccd0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10682d090>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10682d310>: Failed to resolve 'www.bescom.org' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='eprocure.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10682d6d0>: Failed to resolve 'eprocure.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='eproc.rajasthan.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10682da90>: Failed to resolve 'eproc.rajasthan.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.up.nic.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.up.nic.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10682dd10>: Failed to resolve 'etender.up.nic.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-11T14:10:29.370542 sales_selected=40 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
maharashtra: host in skip-cache www.mahadiscom.in
⚠️ maharashtra: No tenders found
uttar_pradesh: host in skip-cache www.uppcl.org
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: host in skip-cache www.delhi.gov.in
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 13.47 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-11T15:56:49.499198",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a306e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108967d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x108a44690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a45310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a456d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-11T15:56:49.584177 sales_selected=41 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 32.13 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-11T17:13:57.655300",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a306e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108967d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a442d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a44690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-11T17:13:57.734923 sales_selected=42 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1067f1bd0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1067f16d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 47.89 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-11T18:16:18.595811",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b0846e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aa47d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b0982d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b098690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-11T18:16:18.669971 sales_selected=43 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106c79d10>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106c796d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 43.52 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-11T19:17:09.555676",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6646e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a59bd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6782d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a678690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-11T19:17:09.634216 sales_selected=44 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
UrlListCrawler: non-200 for https://www.ntpc.co.in/en/tenders: 404
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10abbe0d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10abbe210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,438 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 1632.34 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-11T22:40:23.465556",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ad646e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ac9bd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ad782d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ad78690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-11T22:40:23.540680 sales_selected=45 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108d56350>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108d55bd0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,087 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 50.68 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-12T07:13:58.527639",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1085886e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1084bfd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10859c690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10859d310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10859d6d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-12T07:13:58.601842 sales_selected=46 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 25.76 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-12T08:14:33.359355",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106bc86e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106affd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106bdc2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106bdc690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-12T08:14:33.476644 sales_selected=47 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10a9cd310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10a9cd590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 25.03 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-12T09:46:13.148575",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1071846e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1070bbd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1071982d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107198690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-12T09:46:13.233718 sales_selected=48 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106bedbd0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106bedd10>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 67.98 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-12T10:47:28.379450",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1069cc6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106903d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1069e02d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1069e0690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-12T10:47:28.462651 sales_selected=49 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
UrlListCrawler: non-200 for https://www.ntpc.co.in/en/tenders: 404
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b5d1310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b5d1590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,088 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 35.39 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-12T14:03:44.433290",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1093d06e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x109307d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1093e42d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1093e4690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-12T14:03:44.510327 sales_selected=50 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1068711d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106871310>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 64.54 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-12T15:04:58.596801",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ab886e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aabfd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ab9c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ab9c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-12T15:04:58.673902 sales_selected=51 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1095ed310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1095ed590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,088 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 70.13 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-12T16:06:19.361059",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10731c6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107253d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1073302d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107330690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-12T16:06:19.437002 sales_selected=52 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10954e0d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10954e210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,435 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 89.90 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-12T17:08:10.025010",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a7606e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a697d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10a774690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a775310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a7756d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-12T17:08:10.093510 sales_selected=53 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC (https://www.ntpc.co.in/en/tenders): ('Connection aborted.', RemoteDisconnected('Remote end closed connection without response'))
NTPC: No tenders parsed
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,090 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 108.66 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-12T18:48:27.207626",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1087986e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1086cfd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1087ac2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1087ac690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-12T18:48:27.284247 sales_selected=54 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1095a9310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1095a9590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 67.36 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-12T19:49:56.202979",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108e686e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108d9fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x108e7c690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108e7d310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108e7d6d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-12T19:49:56.285103 sales_selected=55 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,089 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 25.57 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-12T20:50:31.298546",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a4546e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a38bd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a4682d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a468690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-12T20:50:31.376653 sales_selected=56 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
UrlListCrawler: non-200 for https://www.ntpc.co.in/en/tenders: 404
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x107295310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x107295590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 64.66 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T03:58:48.432700",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106fc46e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106987d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106fd82d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106fd8690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T03:58:48.511534 sales_selected=57 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x109305310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x109305590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 15,088 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 37.27 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 8

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 4
  Qualified (cable-related): 4

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T04:59:40.557080",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108dcc6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10878fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108de02d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108de0690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T04:59:40.622547 sales_selected=58 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10927d310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10927d590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,436 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 29.01 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T06:00:19.294327",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1085406e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108477d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1085542d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108554690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T06:00:19.380339 sales_selected=59 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10af36210>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10af365d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
maharashtra: ('Connection aborted.', ConnectionResetError(54, 'Connection reset by peer'))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 25.29 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T07:00:57.513710",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106e146e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106d4bd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106e282d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106e28690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T07:00:57.593189 sales_selected=60 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x109069090>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x109069a90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 8 tenders found
  - State SEB - Maharashtra: 2 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 8
  Filtered (next 3 months): 4
  Qualified (cable-related): 4

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 3,435 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 35.80 seconds
Status: ERROR

Discovery:
  Total Discovered: 8


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T08:01:41.638790",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1064a06e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x105e33d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1064b42d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1064b4690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T08:01:41.716119 sales_selected=61 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10730e210>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10730da90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 32.22 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T13:16:50.306842",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1070606e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106f97d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1070742d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107074690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T13:16:50.388205 sales_selected=62 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1075d47d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1075d5090>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 68.79 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T14:18:21.658149",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108b446e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a7bd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108b582d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108b58690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T14:18:21.736518 sales_selected=63 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10a859310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10a85a5d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 52.96 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T15:19:27.105298",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1088006e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108737d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1088142d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108814690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T15:19:27.182556 sales_selected=64 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b291310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b2920d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,498 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 111.86 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T16:21:37.633896",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b1686e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b09fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_error": "HTTPSConnectionPool(host='validate.perfdrive.com', port=443): Read timed out. (read timeout=5)"
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b17cf50>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b17d310>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T16:21:37.714673 sales_selected=65 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108e90b90>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108e91bd0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,151 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 111.17 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T17:23:53.097106",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108b986e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108acfd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108bac2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108bac690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T17:23:53.176990 sales_selected=66 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x109536210>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x109535950>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 75.44 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T18:25:25.763841",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1064006e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106337d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1064142d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106414690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T18:25:25.843710 sales_selected=67 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1093320d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x109331090>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 67.21 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T19:26:43.302514",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1085f86e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10852fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10860c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10860c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T19:26:43.404467 sales_selected=68 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108afd310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108afd590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 44.42 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T20:27:35.138493",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a7c46e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6fbd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a7d82d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a7d8690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T20:27:35.194041 sales_selected=69 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1067351d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106735310>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,149 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 81.00 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-13T21:29:08.361109",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a8006e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a737d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a8142d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a814690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-13T21:29:08.436291 sales_selected=70 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
UrlListCrawler: non-200 for https://www.ntpc.co.in/en/tenders: 404
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108f09310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108f09590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 46.26 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-14T04:01:42.374217",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a4906e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a3c7d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a4a42d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a4a4690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-14T04:01:42.439052 sales_selected=71 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106c5e350>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106c5d310>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 45.96 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-14T05:02:35.767865",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1066506e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106587d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1066642d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106664690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-14T05:02:35.847556 sales_selected=72 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108981310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108981590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 44.47 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-14T06:03:30.102540",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aac06e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a9f7d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aad42d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aad4690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-14T06:03:30.184812 sales_selected=73 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1094c60d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1094c6210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 27.65 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-14T07:04:05.913148",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1072986e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1071cfd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1072ac2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1072ac690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-14T07:04:05.996144 sales_selected=74 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1087ca0d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1087ca210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 24.92 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-14T08:04:38.452420",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106d246e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1066e7d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106d382d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106d38690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-14T08:04:38.526014 sales_selected=75 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10894d310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10894d590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 34.28 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-14T09:05:30.222422",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aba06e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aad7d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10abb4690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10abb5310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10abb56d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-14T09:05:30.305343 sales_selected=76 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
Error scraping https://www.powergrid.in/tenders: HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: /tenders (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x106d9e0d0>, 'Connection to www.powergrid.in timed out. (connect timeout=20)'))
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106d9d090>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106d9e710>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 86.76 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-14T15:57:40.372876",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10845c6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108393d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1084702d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108470690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-14T15:57:40.466818 sales_selected=77 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1072f5bd0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1072f5f90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,151 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 121.09 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-14T16:59:58.649325",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10719c6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1070d3d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1071b02d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1071b0690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-14T16:59:58.724445 sales_selected=78 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10ad820d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10ad82210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 76.21 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-14T18:01:32.618283",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106a346e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1063c7d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106a482d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106a48690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-14T18:01:32.699079 sales_selected=79 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108b8d1d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108b8d310>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,151 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 122.18 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-14T19:04:01.867271",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10adf06e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ad27d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10ae04690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ae05310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ae056d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-14T19:04:01.943547 sales_selected=80 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 23.76 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-14T20:04:39.009849",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1064fc6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106433d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1065102d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106510690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-14T20:04:39.205894 sales_selected=81 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b6720d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b671f90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 36.33 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-14T21:05:25.015560",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1087ec6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108723d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1088002d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108800690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-14T21:05:25.467270 sales_selected=82 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.ntpc.co.in/en/tenders: 404
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1095a51d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1095a5310>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 52.24 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-15T02:41:47.893336",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6746e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a5abd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6882d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a688690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-15T02:41:47.958206 sales_selected=83 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1074e9310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1074e9590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 34.83 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-15T03:42:36.594451",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a4d06e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a407d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a4e42d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a4e4690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-15T03:42:36.674587 sales_selected=84 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1090cd310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1090cd590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 43.87 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-15T05:19:42.521661",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1070f46e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10702bd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1071082d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107108690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-15T05:19:42.600421 sales_selected=85 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x107181310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x107181590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 35.96 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-15T06:20:31.428542",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a4b86e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a3efd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a4cc2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a4cc690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-15T06:20:31.509108 sales_selected=86 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108e1d1d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108e1d310>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 63.49 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-15T07:21:48.344281",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10af886e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aebfd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10af9c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10af9c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-15T07:21:48.430174 sales_selected=87 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1076e5090>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1076e51d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 59.71 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-15T08:23:01.399816",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1092286e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108bbbd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10923c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10923c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_error": "HTTPSConnectionPool(host='eproc.rajasthan.gov.in', port=443): Read timed out. (read timeout=5)"
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-15T08:23:01.476565 sales_selected=88 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106fccb90>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106fcd450>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Read timed out. (read timeout=30)
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,498 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 2171.30 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-15T18:23:12.499393",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a006e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108937d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a142d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a14690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_error": "HTTPSConnectionPool(host='eprocure.gov.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x108a156d0>, 'Connection to eprocure.gov.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-15T18:23:12.576681 sales_selected=89 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
UrlListCrawler: non-200 for https://www.ntpc.co.in/en/tenders: 404
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106ff6210>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106ff6490>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 27.33 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-15T20:07:12.294899",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106c946e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106bcbd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x106ca8690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106ca9310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106ca96d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-15T20:07:12.372259 sales_selected=90 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 16.63 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-15T21:07:46.874890",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ae806e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10adb7d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10ae94690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ae95310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ae956d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-15T21:07:46.952867 sales_selected=91 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 17.48 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-15T22:08:12.572834",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108c386e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108b6fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108c4c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108c4c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-15T22:08:12.655935 sales_selected=92 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
UrlListCrawler: non-200 for https://www.ntpc.co.in/en/tenders: 404
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108e2a0d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108e2a210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,498 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 289.74 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-16T05:46:24.454252",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a5e06e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a517d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a5f42d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a5f4690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-16T05:46:24.528927 sales_selected=93 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1096391d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x109639310>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 50.91 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-16T07:12:45.544740",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6886e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a5bfd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a69c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a69c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-16T07:12:45.628662 sales_selected=94 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
Error scraping https://www.powergrid.in/tenders: HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: /tenders (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x109369310>, 'Connection to www.powergrid.in timed out. (connect timeout=20)'))
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x109369590>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10936a5d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 62.64 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-16T08:13:56.619883",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ada06e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10acd7d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10adb42d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10adb4690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-16T08:13:56.696848 sales_selected=95 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108a2e0d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108a2d090>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 54.45 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-16T11:59:28.392543",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10653c6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106473d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1065502d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106550690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-16T11:59:28.458143 sales_selected=96 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106cfd1d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106cfd950>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 44.06 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-16T13:00:25.486989",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10af7c6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aeb3d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10af902d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10af90690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-16T13:00:25.566975 sales_selected=97 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10ab39310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10ab39590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 47.16 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-16T14:01:29.947312",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10afc46e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aefbd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10afd8690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10afd9310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10afd96d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-16T14:01:30.029103 sales_selected=98 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 23.61 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-16T15:02:02.814777",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6d46e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a067d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6e82d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6e8690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-16T15:02:02.895758 sales_selected=99 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x107441310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x107441590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 42.54 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-16T16:02:59.913027",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10add46e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ad0bd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ade82d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ade8690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-16T16:02:59.992272 sales_selected=100 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106a59310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106a5a5d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,498 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 117.99 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-16T17:26:23.441752",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1070e86e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10701fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1070fc2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1070fc690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_error": "HTTPSConnectionPool(host='eproc.rajasthan.gov.in', port=443): Read timed out. (read timeout=5)"
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-16T17:26:23.526459 sales_selected=101 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b2a5090>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b2a6350>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 83.25 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-16T18:28:01.524097",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1089f86e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10892fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a0c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108a0c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-16T18:28:01.597583 sales_selected=102 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106b891d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106b89950>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 65.51 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-16T19:29:33.790588",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b3886e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b2bfd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10b39c690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b39d310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b39d6d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_error": "HTTPSConnectionPool(host='etender.up.nic.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10b39df90>, 'Connection to etender.up.nic.in timed out. (connect timeout=5)'))"
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-16T19:29:33.867522 sales_selected=103 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 27.32 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-16T20:30:08.916511",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108d2c6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108c63d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108d402d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108d40690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-16T20:30:08.999914 sales_selected=104 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
UrlListCrawler: non-200 for https://www.ntpc.co.in/en/tenders: 404
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108865310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108865590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,496 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 53.80 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-17T03:49:04.315297",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b4586e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b38fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b46c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b46c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-17T03:49:04.388269 sales_selected=105 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
Error scraping https://www.powergrid.in/tenders: HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: /tenders (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10914d1d0>, 'Connection to www.powergrid.in timed out. (connect timeout=20)'))
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10914d310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10914e850>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 83.05 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-17T04:50:37.866532",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1091686e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10909fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10917c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10917c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-17T04:50:37.938317 sales_selected=106 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108871310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108871590>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 47.95 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-17T05:57:46.139765",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1065c46e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1064fbd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x1065d8690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1065d9310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1065d96d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-17T05:57:46.216146 sales_selected=107 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 25.56 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-17T06:58:20.005841",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ac0c6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ab43d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ac202d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ac20690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-17T06:58:20.080908 sales_selected=108 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1096720d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x109672210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
Traceback (most recent call last):
  File "/Users/soumyajitghosh/cable-rfp-automation/run_pipeline_new.py", line 114, in run_complete_pipeline
    processing_result = await main_agent.process_tenders(discovered_tenders)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 99, in process_tenders
    new_sku_requests = self._generate_new_sku_requests(rfp_summary['tender_id'], technical_result)
  File "/Users/soumyajitghosh/cable-rfp-automation/agents/main_agent.py", line 475, in _generate_new_sku_requests
    file_path.write_text("\n".join(lines), encoding='utf-8')
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 814, in write_text
    with self.open(mode='w', encoding=encoding, errors=errors, newline=newline) as f:
         ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Cellar/python@3.14/3.14.0/Frameworks/Python.framework/Versions/3.14/lib/python3.14/pathlib/__init__.py", line 776, in open
    return io.open(self, mode, buffering, encoding, errors, newline)
           ~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/IND/2025/LV-CABLE/003
  Title: Low Voltage (440V) Control Cables for Industrial Plant - 10 KM
  Organization: NTPC Limited, Dadri Plant, Uttar Pradesh
  Estimated Value: Rs 5,000,000.0
  Deadline: 2025-12-15T17:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/IND/2025/LV-CABLE/003
  Scope Items: 1
  Key Specs: {'cable_type': 'General', 'voltage': '440v', 'length_km': 10.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

PIPELINE ERROR: [Errno 2] No such file or directory: 'output/new_sku_requests/REQUEST_NTPC/IND/2025/LV-CABLE/003_ITEM_1.md'

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 2,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 44.16 seconds
Status: ERROR

Discovery:
  Total Discovered: 6


================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-17T07:59:17.766991",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b0c86e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10afffd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b0dc2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b0dc690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-17T07:59:17.846555 sales_selected=109 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
UrlListCrawler: non-200 for https://www.ntpc.co.in/en/tenders: 404
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108e060d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x108e06210>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 2
  Qualified (cable-related): 2

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 37.03 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 2
  Qualified (cable-related): 2

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-17T11:55:04.494721",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a7606e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a697d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a7742d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a774690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-17T11:55:04.586289 sales_selected=110 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
UrlListCrawler: non-200 for https://www.ntpc.co.in/en/tenders: 404
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106ed0a50>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106ed0b90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Title: Supply of 11 kV XLPE Armored Underground Cables - 350 KM
  Organization: NTPC Limited, New Delhi
  Estimated Value: Rs 18,500,000.0
  Deadline: 2026-02-15T15:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/SCM/2025/11KV-CABLE/002
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '11 kv', 'length_km': 350.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Armored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM - 350.0 km

--- Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM ---

RFP Requirements:
  voltage: 11 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Armored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 11 kV XLPE 3-Core Armored Power Cable (SKU: KEI-XLPE-11KV-3C-35)
     Match Score: 85.71%

  2. 11 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-11KV-3C-35)
     Match Score: 85.71%

  3. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

Selected Product:
  SKU: KEI-XLPE-11KV-3C-35
  Name: 11 kV XLPE 3-Core Armored Power Cable
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 18,500,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 297,500,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 297,515,000
  Transport: Rs 14,875,750
  Installation Support: Rs 8,925,450
  Contingency: Rs 5,950,300
  Profit Margin: Rs 22,908,655
  GST: Rs 63,031,528
  Final Quote: Rs 413,206,683.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - KEI-XLPE-11KV-3C-35: Rs 850/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 297,515,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 18,500,000
  Our Quote: Rs 413,206,683
  Quote Competitiveness: 2233.5% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 98.77 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 413,206,683

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - KEI-XLPE-11KV-3C-35: 85.71% match

Pricing Agent:
  Material Cost: Rs 297,500,000
  Services Cost: Rs 15,000
  Grand Total: Rs 297,515,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-17T17:26:59.918963",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a9dc6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a913d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10a9f0690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a9f1310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a9f16d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-17T17:27:00.006131 sales_selected=111 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 61.74 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-17T18:28:35.356513",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aeb86e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10adefd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aecc2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aecc690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_error": "HTTPSConnectionPool(host='eproc.rajasthan.gov.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x10aecd1d0>, 'Connection to eproc.rajasthan.gov.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-17T18:28:35.435018 sales_selected=112 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b5711d0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b571310>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Title: Supply of 11 kV XLPE Armored Underground Cables - 350 KM
  Organization: NTPC Limited, New Delhi
  Estimated Value: Rs 18,500,000.0
  Deadline: 2026-02-15T15:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/SCM/2025/11KV-CABLE/002
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '11 kv', 'length_km': 350.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Armored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM - 350.0 km

--- Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM ---

RFP Requirements:
  voltage: 11 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Armored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 11 kV XLPE 3-Core Armored Power Cable (SKU: KEI-XLPE-11KV-3C-35)
     Match Score: 85.71%

  2. 11 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-11KV-3C-35)
     Match Score: 85.71%

  3. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

Selected Product:
  SKU: KEI-XLPE-11KV-3C-35
  Name: 11 kV XLPE 3-Core Armored Power Cable
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 18,500,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 297,500,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 297,515,000
  Transport: Rs 14,875,750
  Installation Support: Rs 8,925,450
  Contingency: Rs 5,950,300
  Profit Margin: Rs 22,908,655
  GST: Rs 63,031,528
  Final Quote: Rs 413,206,683.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - KEI-XLPE-11KV-3C-35: Rs 850/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 297,515,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 18,500,000
  Our Quote: Rs 413,206,683
  Quote Competitiveness: 2233.5% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 54.07 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 413,206,683

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - KEI-XLPE-11KV-3C-35: 85.71% match

Pricing Agent:
  Material Cost: Rs 297,500,000
  Services Cost: Rs 15,000
  Grand Total: Rs 297,515,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-17T19:29:53.394557",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1086546e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10858bd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_error": "HTTPSConnectionPool(host='validate.perfdrive.com', port=443): Read timed out. (read timeout=5)"
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108669090>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108669450>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_error": "HTTPSConnectionPool(host='etender.up.nic.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x108669d10>, 'Connection to etender.up.nic.in timed out. (connect timeout=5)'))"
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-17T19:29:53.472226 sales_selected=113 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10916df90>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10916d1d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,149 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 40.40 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-17T20:30:42.626330",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1072cc6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107203d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1072e02d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1072e0690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-17T20:30:42.702710 sales_selected=114 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
Error scraping https://www.powergrid.in/tenders: HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: /tenders (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x1075520d0>, 'Connection to www.powergrid.in timed out. (connect timeout=20)'))
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x107552210>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x107552850>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Title: Supply of 11 kV XLPE Armored Underground Cables - 350 KM
  Organization: NTPC Limited, New Delhi
  Estimated Value: Rs 18,500,000.0
  Deadline: 2026-02-15T15:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/SCM/2025/11KV-CABLE/002
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '11 kv', 'length_km': 350.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Armored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM - 350.0 km

--- Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM ---

RFP Requirements:
  voltage: 11 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Armored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 11 kV XLPE 3-Core Armored Power Cable (SKU: KEI-XLPE-11KV-3C-35)
     Match Score: 85.71%

  2. 11 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-11KV-3C-35)
     Match Score: 85.71%

  3. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

Selected Product:
  SKU: KEI-XLPE-11KV-3C-35
  Name: 11 kV XLPE 3-Core Armored Power Cable
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 18,500,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 297,500,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 297,515,000
  Transport: Rs 14,875,750
  Installation Support: Rs 8,925,450
  Contingency: Rs 5,950,300
  Profit Margin: Rs 22,908,655
  GST: Rs 63,031,528
  Final Quote: Rs 413,206,683.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - KEI-XLPE-11KV-3C-35: Rs 850/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 297,515,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 18,500,000
  Our Quote: Rs 413,206,683
  Quote Competitiveness: 2233.5% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 66.43 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 413,206,683

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - KEI-XLPE-11KV-3C-35: 85.71% match

Pricing Agent:
  Material Cost: Rs 297,500,000
  Services Cost: Rs 15,000
  Grand Total: Rs 297,515,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-17T21:32:06.921142",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108f2c6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108e63d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x108f40690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108f41310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108f416d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-17T21:32:07.006476 sales_selected=115 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 27.95 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-17T22:32:48.535540",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aa846e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a447d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aa982d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aa98690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-17T22:32:48.616621 sales_selected=116 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.ntpc.co.in/en/tenders: 404
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b619310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10b61a5d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Title: Supply of 11 kV XLPE Armored Underground Cables - 350 KM
  Organization: NTPC Limited, New Delhi
  Estimated Value: Rs 18,500,000.0
  Deadline: 2026-02-15T15:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/SCM/2025/11KV-CABLE/002
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '11 kv', 'length_km': 350.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Armored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM - 350.0 km

--- Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM ---

RFP Requirements:
  voltage: 11 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Armored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 11 kV XLPE 3-Core Armored Power Cable (SKU: KEI-XLPE-11KV-3C-35)
     Match Score: 85.71%

  2. 11 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-11KV-3C-35)
     Match Score: 85.71%

  3. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

Selected Product:
  SKU: KEI-XLPE-11KV-3C-35
  Name: 11 kV XLPE 3-Core Armored Power Cable
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 18,500,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 297,500,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 297,515,000
  Transport: Rs 14,875,750
  Installation Support: Rs 8,925,450
  Contingency: Rs 5,950,300
  Profit Margin: Rs 22,908,655
  GST: Rs 63,031,528
  Final Quote: Rs 413,206,683.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - KEI-XLPE-11KV-3C-35: Rs 850/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 297,515,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 18,500,000
  Our Quote: Rs 413,206,683
  Quote Competitiveness: 2233.5% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 71.54 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 413,206,683

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - KEI-XLPE-11KV-3C-35: 85.71% match

Pricing Agent:
  Material Cost: Rs 297,500,000
  Services Cost: Rs 15,000
  Grand Total: Rs 297,515,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-18T04:38:22.380301",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ae5c6e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ad93d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ae702d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10ae70690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-18T04:38:22.456575 sales_selected=117 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106c55a90>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x106c55950>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 40.84 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-18T05:39:23.206313",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1092506e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x109187d90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x109264690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x109265310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1092656d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-18T05:39:23.286384 sales_selected=118 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Title: Supply of 11 kV XLPE Armored Underground Cables - 350 KM
  Organization: NTPC Limited, New Delhi
  Estimated Value: Rs 18,500,000.0
  Deadline: 2026-02-15T15:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/SCM/2025/11KV-CABLE/002
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '11 kv', 'length_km': 350.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Armored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM - 350.0 km

--- Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM ---

RFP Requirements:
  voltage: 11 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Armored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 11 kV XLPE 3-Core Armored Power Cable (SKU: KEI-XLPE-11KV-3C-35)
     Match Score: 85.71%

  2. 11 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-11KV-3C-35)
     Match Score: 85.71%

  3. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

Selected Product:
  SKU: KEI-XLPE-11KV-3C-35
  Name: 11 kV XLPE 3-Core Armored Power Cable
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 18,500,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 297,500,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 297,515,000
  Transport: Rs 14,875,750
  Installation Support: Rs 8,925,450
  Contingency: Rs 5,950,300
  Profit Margin: Rs 22,908,655
  GST: Rs 63,031,528
  Final Quote: Rs 413,206,683.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - KEI-XLPE-11KV-3C-35: Rs 850/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 297,515,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 18,500,000
  Our Quote: Rs 413,206,683
  Quote Competitiveness: 2233.5% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 21.88 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 413,206,683

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - KEI-XLPE-11KV-3C-35: 85.71% match

Pricing Agent:
  Material Cost: Rs 297,500,000
  Services Cost: Rs 15,000
  Grand Total: Rs 297,515,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-18T06:39:55.188258",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6d86e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a09bd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6ec2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a6ec690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-18T06:39:55.260294 sales_selected=119 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
UrlListCrawler: non-200 for https://www.ntpc.co.in/en/tenders: 404
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1068e5310>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x1068e5090>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 7 tenders found
  - CPPP: 1 tenders
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 7
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,460 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 35.35 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 7

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-18T07:40:47.607278",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106b586e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106a8fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x106b6c690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106b6d310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x106b6d6d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-18T07:40:47.685631 sales_selected=120 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
maharashtra: ('Connection aborted.', ConnectionResetError(54, 'Connection reset by peer'))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Title: Supply of 11 kV XLPE Armored Underground Cables - 350 KM
  Organization: NTPC Limited, New Delhi
  Estimated Value: Rs 18,500,000.0
  Deadline: 2026-02-15T15:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/SCM/2025/11KV-CABLE/002
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '11 kv', 'length_km': 350.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Armored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM - 350.0 km

--- Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM ---

RFP Requirements:
  voltage: 11 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Armored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 11 kV XLPE 3-Core Armored Power Cable (SKU: KEI-XLPE-11KV-3C-35)
     Match Score: 85.71%

  2. 11 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-11KV-3C-35)
     Match Score: 85.71%

  3. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

Selected Product:
  SKU: KEI-XLPE-11KV-3C-35
  Name: 11 kV XLPE 3-Core Armored Power Cable
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 18,500,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 297,500,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 297,515,000
  Transport: Rs 14,875,750
  Installation Support: Rs 8,925,450
  Contingency: Rs 5,950,300
  Profit Margin: Rs 22,908,655
  GST: Rs 63,031,528
  Final Quote: Rs 413,206,683.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - KEI-XLPE-11KV-3C-35: Rs 850/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 297,515,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 18,500,000
  Our Quote: Rs 413,206,683
  Quote Competitiveness: 2233.5% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 22.62 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 413,206,683

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - KEI-XLPE-11KV-3C-35: 85.71% match

Pricing Agent:
  Material Cost: Rs 297,500,000
  Services Cost: Rs 15,000
  Grand Total: Rs 297,515,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-18T08:41:18.809271",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10aff46e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10af2bd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b0082d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10b008690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-18T08:41:18.887557 sales_selected=121 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
UrlListCrawler: non-200 for https://www.ntpc.co.in/en/tenders: 404
NTPC (https://www.ntpc.co.in/tenders-notices): HTTPSConnectionPool(host='validate.perfdrive.com', port=443): Read timed out. (read timeout=20)
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10963e210>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10963c910>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: DNS unresolved for www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: SSL error, retrying without verification
karnataka: Failed even without SSL: HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: /en/tenders (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,152 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 1619.46 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-18T20:15:01.147170",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a5486e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a47fd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a55c2d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x10a55c690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-18T20:15:01.222806 sales_selected=122 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
UrlListCrawler: non-200 for https://www.powergrid.in/corporate-commercial/tender-notices: 500
NTPC: No tenders parsed
POWERGRID https://www.powergrid.in/tenders -> 500
Error scraping https://www.powergridindia.com/tenders: HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: /tenders (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10aa9a210>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)"))
Error scraping https://etender.powergrid.co.in/nicgep/app: HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: /nicgep/app (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x10aa9a5d0>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)"))
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Title: Supply of 11 kV XLPE Armored Underground Cables - 350 KM
  Organization: NTPC Limited, New Delhi
  Estimated Value: Rs 18,500,000.0
  Deadline: 2026-02-15T15:00:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: NTPC/SCM/2025/11KV-CABLE/002
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '11 kv', 'length_km': 350.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Armored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM - 350.0 km

--- Item 1: Supply of 11 kV XLPE Armored Underground Cables - 350 KM ---

RFP Requirements:
  voltage: 11 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Armored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 11 kV XLPE 3-Core Armored Power Cable (SKU: KEI-XLPE-11KV-3C-35)
     Match Score: 85.71%

  2. 11 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-11KV-3C-35)
     Match Score: 85.71%

  3. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

Selected Product:
  SKU: KEI-XLPE-11KV-3C-35
  Name: 11 kV XLPE 3-Core Armored Power Cable
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 18,500,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 297,500,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 297,515,000
  Transport: Rs 14,875,750
  Installation Support: Rs 8,925,450
  Contingency: Rs 5,950,300
  Profit Margin: Rs 22,908,655
  GST: Rs 63,031,528
  Final Quote: Rs 413,206,683.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - KEI-XLPE-11KV-3C-35: Rs 850/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 297,515,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 18,500,000
  Our Quote: Rs 413,206,683
  Quote Competitiveness: 2233.5% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,497 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 26.72 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: NTPC/SCM/2025/11KV-CABLE/002
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 413,206,683

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - KEI-XLPE-11KV-3C-35: 85.71% match

Pricing Agent:
  Material Cost: Rs 297,500,000
  Services Cost: Rs 15,000
  Grand Total: Rs 297,515,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-18T21:54:27.559416",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108af86e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1084bbd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "103.7.129.108",
      "http_error": "HTTPSConnectionPool(host='www.powergrid.in', port=443): Max retries exceeded with url: / (Caused by ConnectTimeoutError(<urllib3.connection.HTTPSConnection object at 0x108b0c690>, 'Connection to www.powergrid.in timed out. (connect timeout=5)'))"
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108b0d310>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x108b0d6d0>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-18T21:54:27.636429 sales_selected=123 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
NTPC: No tenders parsed
⚠️ maharashtra: No tenders found
uttar_pradesh: Status 404
⚠️ uttar_pradesh: No tenders found
tamil_nadu: host in skip-cache www.tangedco.gov.in
⚠️ tamil_nadu: No tenders found
karnataka: host in skip-cache www.bescom.org
⚠️ karnataka: No tenders found
delhi: Status 404
⚠️ delhi: No tenders found
================================================================================
CABLE RFP AUTOMATION - MAIN AGENT ARCHITECTURE
================================================================================

================================================================================
STAGE 1: TENDER DISCOVERY
================================================================================

Discovery complete: 6 tenders found
  - HTML Portal: 6 tenders

================================================================================
STAGE 2: MAIN AGENT COORDINATION
================================================================================

================================================================================
MAIN AGENT: COORDINATING RFP PROCESSING
================================================================================

--------------------------------------------------------------------------------
STEP 1: SALES AGENT - RFP IDENTIFICATION & SELECTION
--------------------------------------------------------------------------------

Selected RFP: PGCIL/2025/CABLE/33KV/001
  Title: Supply of 33 kV XLPE Distribution Cables - 500 KM
  Organization: Power Grid Corporation of India Limited, Delhi
  Estimated Value: Rs 125,000,000.0
  Deadline: 2026-01-25T17:30:00Z
  Days until due: None

Filtering Summary:
  Total tenders: 6
  Filtered (next 3 months): 3
  Qualified (cable-related): 3

--------------------------------------------------------------------------------
STEP 2: MAIN AGENT - PREPARING TECHNICAL SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Technical Agent...

Technical Summary (contextual to Technical Agent role):
  Tender ID: PGCIL/2025/CABLE/33KV/001
  Scope Items: 1
  Key Specs: {'cable_type': 'XLPE', 'voltage': '33 kv', 'length_km': 500.0, 'conductor_material': 'Copper', 'insulation_type': 'XLPE', 'armoring': 'Unarmored', 'cores': '3-core', 'standards': ['IS 7098']}

--------------------------------------------------------------------------------
STEP 3: TECHNICAL AGENT - PRODUCT MATCHING & COMPARISON
--------------------------------------------------------------------------------
Main Agent → Sending technical summary to Technical Agent...

Scope of Supply:
Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM - 500.0 km

--- Item 1: Supply of 33 kV XLPE Distribution Cables - 500 KM ---

RFP Requirements:
  voltage: 33 kV
  cable_type: XLPE
  conductor_material: Copper
  insulation_type: XLPE
  armoring: Unarmored
  cores: 3-core
  standards: ['IS 7098']

Top 3 OEM Recommendations:

  1. 33kV XLPE 3C 150 sq.mm (SKU: OEM-XLPE-33KV-3C-150)
     Match Score: 85.71%

  2. 33kV XLPE 3C 185 sq.mm (SKU: OEM-XLPE-33KV-3C-185)
     Match Score: 85.71%

  3. 33 kV XLPE 3-Core Armored Power Cable (SKU: OEM-XLPE-33KV-3C-120)
     Match Score: 71.43%

Selected Product:
  SKU: OEM-XLPE-33KV-3C-150
  Name: 33kV XLPE 3C 150 sq.mm
  Match: 85.71%

--------------------------------------------------------------------------------
STEP 4: MAIN AGENT - PREPARING PRICING SUMMARY
--------------------------------------------------------------------------------
Main Agent → Preparing contextual summary for Pricing Agent...

Pricing Summary (contextual to Pricing Agent role):
  Test Requirements: 3 items
  Product Recommendations: 1 items
  Tender Value: Rs 125,000,000

--------------------------------------------------------------------------------
STEP 5: PRICING AGENT - QUOTE GENERATION
--------------------------------------------------------------------------------
Main Agent → Sending pricing summary to Pricing Agent...

Test Requirements (3 items):
  1. Visual inspection and dimensional check
  2. Mechanical tests (tensile, elongation)
  3. Tests as per IS 7098

Pricing Summary:
  Total Material Cost: Rs 825,000,000
  Total Services Cost: Rs 15,000
  Grand Total (Direct): Rs 825,015,000
  Transport: Rs 41,250,750
  Installation Support: Rs 24,750,450
  Contingency: Rs 12,375,225
  Profit Margin: Rs 54,203,486
  GST: Rs 172,367,084
  Final Quote: Rs 1,129,961,995.0

--------------------------------------------------------------------------------
STEP 6: MAIN AGENT - CONSOLIDATING RESPONSES & FINAL DECISION
--------------------------------------------------------------------------------
Main Agent → Consolidating Technical and Pricing Agent responses...

Consolidated Overall Response:
  OEM Products Suggested: 1 SKUs
    - OEM-XLPE-33KV-3C-150: Rs 1650.0/m (Match: 85.71%)
  Tests Required: 3 items
    1. Visual inspection and dimensional check: Rs 5,000
    2. Mechanical tests (tensile, elongation): Rs 5,000
    3. Tests as per IS 7098: Rs 5,000
  Total Quote: Rs 825,015,000

--------------------------------------------------------------------------------
STEP 7: MAIN AGENT - FINAL DECISION
--------------------------------------------------------------------------------

Decision Analysis:
  Estimated Value: Rs 125,000,000
  Our Quote: Rs 1,129,961,995
  Quote Competitiveness: 904.0% of estimate
  Average Match Score: 85.7%
  Win Probability: 50.0%

  FINAL RECOMMENDATION: NO-BID

================================================================================
MAIN AGENT: PROCESSING COMPLETE - NO-BID
================================================================================

================================================================================
SAVING RESULTS
================================================================================
Results saved to: output/pipeline_results_new.json
File size: 14,150 bytes

================================================================================
PIPELINE SUMMARY
================================================================================
Execution Time: 25.91 seconds
Status: COMPLETE

Discovery:
  Total Discovered: 6

Processing:
  Selected RFP: PGCIL/2025/CABLE/33KV/001
  Recommendation: NO-BID
  Win Probability: 50.0%
  Quoted Value: Rs 1,129,961,995

Sales Agent:
  Filtered (3-month deadline): 3
  Qualified (cable-related): 3

Technical Agent:
  Products selected: 1
    - OEM-XLPE-33KV-3C-150: 85.71% match

Pricing Agent:
  Material Cost: Rs 825,000,000
  Services Cost: Rs 15,000
  Grand Total: Rs 825,015,000

================================================================================
/Users/soumyajitghosh/cable-rfp-automation/scripts/connectivity_sanity.py:65: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  'timestamp_utc': datetime.utcnow().isoformat(),
{
  "timestamp_utc": "2025-11-18T22:55:03.268905",
  "results": [
    {
      "host": "www.powergridindia.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.powergridindia.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1071746e0>: Failed to resolve 'www.powergridindia.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "etender.powergrid.co.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='etender.powergrid.co.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1070abd90>: Failed to resolve 'etender.powergrid.co.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.powergrid.in",
      "dns_resolved_ip": "43.227.133.101",
      "http_status": 200
    },
    {
      "host": "www.ntpc.co.in",
      "dns_resolved_ip": "141.226.103.3",
      "http_status": 200
    },
    {
      "host": "ntpctender.com",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='ntpctender.com', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x1071882d0>: Failed to resolve 'ntpctender.com' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.tangedco.gov.in",
      "dns_error": "[Errno 8] nodename nor servname provided, or not known",
      "http_error": "HTTPSConnectionPool(host='www.tangedco.gov.in', port=443): Max retries exceeded with url: / (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x107188690>: Failed to resolve 'www.tangedco.gov.in' ([Errno 8] nodename nor servname provided, or not known)\"))"
    },
    {
      "host": "www.bescom.org",
      "dns_resolved_ip": "103.138.196.95",
      "http_error": "HTTPSConnectionPool(host='www.bescom.org', port=443): Max retries exceeded with url: / (Caused by SSLError(SSLError(1, '[SSL: TLSV1_UNRECOGNIZED_NAME] tlsv1 unrecognized name (_ssl.c:1077)')))"
    },
    {
      "host": "eprocure.gov.in",
      "dns_resolved_ip": "164.100.78.245",
      "http_status": 200
    },
    {
      "host": "eproc.rajasthan.gov.in",
      "dns_resolved_ip": "164.100.69.202",
      "http_status": 200
    },
    {
      "host": "etender.up.nic.in",
      "dns_resolved_ip": "164.100.78.246",
      "http_status": 200
    }
  ]
}
/Users/soumyajitghosh/cable-rfp-automation/analytics/collect_pilot_metrics.py:21: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  now = datetime.utcnow().isoformat()
[metrics] 2025-11-18T22:55:03.343873 sales_selected=124 sources=4 avg_success=0.95 avg_new=None
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
date: invalid argument 's' for -I
[pilot]  starting pipeline run (DB=1, POWERGRID=0)
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
Fatal Python error: init_sys_streams: can't initialize sys standard streams
Python runtime state: core initialized
OSError: [Errno 9] Bad file descriptor

Current thread 0x00000001ed92c800 (most recent call first):
  <no Python frame>
[pilot] sleeping 3600s...
